!function(){function t(t,e,n,o){if(t.addEventListener)return t.addEventListener(e,n,o),{destroy:function(){t.removeEventListener(e,n,o)}};var r=function(){n.handleEvent(window.event,n)};return t.attachEvent("on"+e,r),{destroy:function(){t.detachEvent("on"+e,r)}}}var e="ontouchstart"in window;this.FastButton=function(n,o,r){this.events=[],this.touchEvents=[],this.element=n,this.handler=o,this.useCapture=r,e&&this.events.push(t(n,"touchstart",this,this.useCapture)),this.events.push(t(n,"click",this,this.useCapture))},this.FastButton.prototype.destroy=function(){for(i=this.events.length-1;i>=0;i-=1)this.events[i].destroy();this.events=this.touchEvents=this.element=this.handler=this.fastButton=null},this.FastButton.prototype.handleEvent=function(t){switch(t.type){case"touchstart":this.onTouchStart(t);break;case"touchmove":this.onTouchMove(t);break;case"touchend":this.onClick(t);break;case"click":this.onClick(t)}},this.FastButton.prototype.onTouchStart=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.touchEvents.push(t(this.element,"touchend",this,this.useCapture)),this.touchEvents.push(t(document.body,"touchmove",this,this.useCapture)),this.startX=e.touches[0].clientX,this.startY=e.touches[0].clientY},this.FastButton.prototype.onTouchMove=function(t){(Math.abs(t.touches[0].clientX-this.startX)>10||Math.abs(t.touches[0].clientY-this.startY)>10)&&this.reset()},this.FastButton.prototype.onClick=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this.reset();var e=this.handler.call(this.element,t);return"touchend"==t.type&&clickbuster.preventGhostClick(this.startX,this.startY),e},this.FastButton.prototype.reset=function(){for(i=this.touchEvents.length-1;i>=0;i-=1)this.touchEvents[i].destroy();this.touchEvents=[]},this.clickbuster=function(){},this.clickbuster.preventGhostClick=function(t,e){clickbuster.coordinates.push(t,e),window.setTimeout(clickbuster.pop,2500)},this.clickbuster.pop=function(){clickbuster.coordinates.splice(0,2)},this.clickbuster.onClick=function(t){for(var e=0;e<clickbuster.coordinates.length;e+=2){var n=clickbuster.coordinates[e],o=clickbuster.coordinates[e+1];Math.abs(t.clientX-n)<25&&Math.abs(t.clientY-o)<25&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,t.preventDefault?t.preventDefault():t.returnValue=!1)}},e&&(document.addEventListener("click",clickbuster.onClick,!0),clickbuster.coordinates=[])}(this),function t(e,n,o){function r(i,a){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!a&&c)return c(i,!0);if(s)return s(i,!0);throw new Error("Cannot find module '"+i+"'")}var u=n[i]={exports:{}};e[i][0].call(u.exports,function(t){var n=e[i][1][t];return r(n?n:t)},u,u.exports,t,e,n,o)}return n[i].exports}for(var s="function"==typeof require&&require,i=0;i<o.length;i++)r(o[i]);return r}({1:[function(t,e){"use strict";function n(t,e,n){var i=[];e=e||s,n=n||r,t=o.splitNoteIntoParts(t);var a,c,u,h;for(a in e)for(i[a]=[],c=o.noteToNumber(t),u=o.noteToNumber(e[a]);u+n>=c&&(h=c-u,h>=0&&i[a].push(h),!t.octave);)c+=12;return i}var o=t("./noteUtils"),r=24,s=["E4","B3","G3","D3","A2","E2"];e.exports={getNotePositions:n}},{"./noteUtils":4}],2:[function(t,e){"use strict";function n(t,e,n){var o,r,s='<div class="fretboard">';for(s+='<span class="fretboard-row">',o=e;n>=o;o+=1)s+='<span class="fretboard-item">'+o+"</span>";s+="</span>";for(o in i){for(s+='<span class="fretboard-row">',0===e?(r=1,s+='<span class="fretboard-item">'+i[o]+"</span>"):r=e;n>=r;r+=1)s+=t[o].indexOf(r)>-1?'<span class="fretboard-item fretboard-item--active"></span>':'<span class="fretboard-item"></span>';s+="</span>"}return s+="</div>"}function o(t){var e=r.getNotePositions(t,i,s);return n(e,0,11)+n(e,12,s)}var r=t("./fretboard"),s=23,i=["E4","B3","G3","D3","A2","E2"];e.exports={create:o}},{"./fretboard":1}],3:[function(t){"use strict";function e(){n()}function n(){new FastButton(c,s),u.addEventListener("change",o,!1),h.addEventListener("change",r,!1)}function o(){i.settings.octaves=u.checked}function r(){h.checked?l.classList.remove("u-dn"):l.classList.add("u-dn")}function s(){var t=i.generate();c.innerHTML='<span class="note">'+t+"</span>",l.innerHTML=a.create(t)}t("./shim");var i=t("./randomNoteGenerator").create(),a=t("./fretboardVis"),c=document.getElementById("pickanote"),u=document.getElementById("octavesswitch"),h=document.getElementById("fretboardswitch"),l=document.getElementById("fretboard");e()},{"./fretboardVis":2,"./randomNoteGenerator":5,"./shim":6}],4:[function(t,e){"use strict";function n(t){var e=/^([A-G])(\d)?(♯{1,2}?|♭{1,2})?$/.exec(t);if(!e)throw new Error("Invalid note format");return{base:e[1],octave:e[2]||null,alteration:e[3]||null}}function o(t){var e;return"string"==typeof t&&(t=n(t)),e=r[t.base],t.octave&&(e+=12*t.octave),t.alteration&&(e+=s[t.alteration]),e}var r={C:0,D:2,E:4,F:5,G:7,A:9,B:11},s={"♯":1,"♭":-1,"♯♯":2,"♭♭":-2};e.exports={noteToNumber:o,splitNoteIntoParts:n}},{}],5:[function(t,e){"use strict";function n(){return c[s(c.length)]}function o(t){var e,n=[];for(e=0;h>=e;e+=1)t[e]&&n.push(e);return e=n[s(n.length)]}function r(t){var e=t?u.length:u.length-2;return u[s(e)]}function s(t){return Math.floor(Math.random()*t)}function i(){function t(t){null==e[t]&&("object"==typeof n[t]?(e[t]=Array.isArray(n[t])?[]:{},i(e[t],n[t])):e[t]=n[t])}for(var e,n,o=[].slice.apply(arguments),r=o.length-1;r>0;)n=o[r],e=o[r-1],Object.keys(n).forEach(t),r-=1;return e}function a(t){var e=Object.create(f);return e.settings=i(t||{},l),e}var c=["A","B","C","D","E","F","G"],u=["","♯","♭","♯♯","♭♭"],h=8,l={alterations:!0,doubleAlterations:!1,octaves:!1,octavesEnabled:[!1,!1,!0,!0,!0,!0,!1,!1,!1]},f={generate:function(){var t=n();return this.settings.octaves&&(t+=o(this.settings.octavesEnabled)),this.settings.alterations&&(t+=r(this.settings.doubleAlterations)),t}};e.exports={create:a,randomNoteSymbol:n,randomOctaveSymbol:o,randomAlterationSymbol:r,defaults:l}},{}],6:[function(){"use strict";Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)})},{}]},{},[3]);